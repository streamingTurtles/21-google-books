{"ast":null,"code":"import _slicedToArray from \"/Users/viviannecardillo/COLUMBIA_onViv's_Mac/_HW_21_due_04.13.2021_Google-Books-React-Search/21-google-books/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/viviannecardillo/COLUMBIA_onViv's_Mac/_HW_21_due_04.13.2021_Google-Books-React-Search/21-google-books/client/src/pages/Search/search.js\";\nimport React, { useState, useEffect } from \"react\";\nimport Jumbotron from \"../../components/Jumbotron/\";\nimport API from \"../../utils/API\";\nimport CardBody from \"../../components/CardBody/cardBody\";\nimport Card from \"../../components/Card/card\";\nimport SaveButton from \"../../components/SaveButton/saveButton\";\nimport ViewButton from \"../../components/ViewButton/viewButton\";\nimport { Col, Row, Container } from \"../../components/Grid/\";\nimport { List, ListItem } from \"../../components/List\";\nimport { Input, FormBtn } from \"../../components/Form/form\";\nimport \"../../pages/Search/styles.css\";\n\nfunction Search() {\n  var _this = this;\n\n  // Set component's initial state\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      books = _useState2[0],\n      setBooks = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      searchTerm = _useState4[0],\n      setSearchTerm = _useState4[1]; // Loading & seting to books\n\n\n  function loadBooks() {\n    API.getBooksByTitle(searchTerm).then(function (res) {\n      setBooks(res);\n    }).catch(function (err) {\n      return console.log(err);\n    });\n  }\n\n  ; //  updating component state when the user types into the input field\n\n  function handleInputChange(event) {\n    var value = event.target.value;\n    setSearchTerm(value.replace(/\\s/g, ''));\n  }\n\n  ;\n\n  function handleSearchSubmit(event) {\n    event.preventDefault();\n\n    if (searchTerm) {\n      loadBooks();\n    }\n  }\n\n  ;\n\n  function handleSaveSubmit(bookData) {\n    API.saveBook({\n      _id: bookData.id,\n      title: bookData.title,\n      authors: bookData.authors,\n      description: bookData.description,\n      image: bookData.image,\n      link: bookData.link\n    });\n  }\n\n  ;\n  return /*#__PURE__*/React.createElement(Container, {\n    fluid: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"hero\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Jumbotron, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 15\n    }\n  }, \"Google Books Search App\"), /*#__PURE__*/React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 15\n    }\n  }, \"using the Google Books API\"))), /*#__PURE__*/React.createElement(Col, {\n    size: \"md-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    className: \"d-flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    onChange: handleInputChange,\n    name: \"title\",\n    style: {\n      textAlign: \"center\",\n      backgroundColor: \"rgb(232,240,254)\"\n    },\n    placeholder: \"Type in your book search\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(FormBtn, {\n    style: {\n      textAlign: \"center\",\n      backgroundColor: \"rgb(232,240,254)\"\n    },\n    onClick: handleSearchSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fas fa-search\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 17\n    }\n  })))), /*#__PURE__*/React.createElement(Col, {\n    size: \"md-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    className: \"text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 15\n    }\n  }, \"Search Results\"), books.length > 0 ? /*#__PURE__*/React.createElement(List, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 15\n    }\n  }, books.map(function (book) {\n    return /*#__PURE__*/React.createElement(ListItem, {\n      key: book.id,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(Card, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(SaveButton, {\n      handleSaveSubmit: handleSaveSubmit,\n      bookData: book,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"far fa-heart\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 27\n      }\n    })), /*#__PURE__*/React.createElement(ViewButton, {\n      link: book.link,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(CardBody, {\n      key: book.id,\n      title: book.title,\n      authors: book.authors,\n      image: book.image,\n      description: book.description,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 25\n      }\n    })));\n  })) : /*#__PURE__*/React.createElement(\"p\", {\n    className: \"display-message text-center mt-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 15\n    }\n  }, \"Nothing to display\")))));\n}\n\nexport default Search;","map":{"version":3,"sources":["/Users/viviannecardillo/COLUMBIA_onViv's_Mac/_HW_21_due_04.13.2021_Google-Books-React-Search/21-google-books/client/src/pages/Search/search.js"],"names":["React","useState","useEffect","Jumbotron","API","CardBody","Card","SaveButton","ViewButton","Col","Row","Container","List","ListItem","Input","FormBtn","Search","books","setBooks","searchTerm","setSearchTerm","loadBooks","getBooksByTitle","then","res","catch","err","console","log","handleInputChange","event","value","target","replace","handleSearchSubmit","preventDefault","handleSaveSubmit","bookData","saveBook","_id","id","title","authors","description","image","link","textAlign","backgroundColor","length","map","book"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Jumbotron from \"../../components/Jumbotron/\";\nimport API from \"../../utils/API\";\nimport CardBody from \"../../components/CardBody/cardBody\";\nimport Card from \"../../components/Card/card\"\nimport SaveButton from \"../../components/SaveButton/saveButton\"\nimport ViewButton from \"../../components/ViewButton/viewButton\"\nimport { Col, Row, Container } from \"../../components/Grid/\";\nimport { List, ListItem } from \"../../components/List\";\nimport { Input, FormBtn } from \"../../components/Form/form\";\n\nimport \"../../pages/Search/styles.css\"\n\nfunction Search() {\n  // Set component's initial state\n  const [books, setBooks] = useState([])\n  const [searchTerm, setSearchTerm] = useState(\"\")\n\n  // Loading & seting to books\n  function loadBooks() {\n    API.getBooksByTitle(searchTerm)\n      .then(res => {\n        setBooks(res)\n        }\n      )\n      .catch(err => console.log(err));\n  };\n\n  //  updating component state when the user types into the input field\n  function handleInputChange(event) {\n    const { value } = event.target;\n    setSearchTerm( value.replace(/\\s/g, '') );\n  };\n\n  \n  function handleSearchSubmit(event) {\n    event.preventDefault();\n    if (searchTerm) {\n      loadBooks();\n    }\n  };\n  \n  function handleSaveSubmit(bookData) {\n    API.saveBook({\n      _id : bookData.id,\n      title: bookData.title,\n      authors: bookData.authors,\n      description: bookData.description,\n      image: bookData.image,\n      link: bookData.link\n    })\n  };\n\n    return (\n      <Container fluid>\n        <Row>\n          <div className=\"hero\">\n            <Jumbotron>\n              <h1>Google Books Search App</h1>\n              <h5>using the Google Books API</h5>\n            </Jumbotron>\n          </div>\n          <Col size=\"md-12\">\n            <form className=\"d-flex\">\n              <Input\n                onChange={handleInputChange}\n                name=\"title\"\n                style={{ textAlign: \"center\", backgroundColor: \"rgb(232,240,254)\" }}\n                placeholder='Type in your book search'\n              />\n              <FormBtn\n                style={{ textAlign: \"center\", backgroundColor: \"rgb(232,240,254)\" }}\n                onClick={handleSearchSubmit}\n              >\n                <i className=\"fas fa-search\"></i>\n              </FormBtn>\n            </form>\n          </Col>\n          <Col size=\"md-12\">\n            <Card>\n              <h4 className=\"text-center\">Search Results</h4>\n              {books.length >0? (\n              <List>\n                {books.map(book => (\n                  <ListItem key={book.id}>\n                      <Card>\n                      <SaveButton\n                          handleSaveSubmit={handleSaveSubmit}\n                          bookData={book}\n                        >\n                          <i className=\"far fa-heart\"></i>\n                        </SaveButton>\n                        <ViewButton\n                          link={book.link}\n                        />\n                        <CardBody\n                          key={book.id}\n                          title={book.title}\n                          authors={book.authors}\n                          image={book.image}\n                          description={book.description}\n                        />\n                      </Card>\n                  </ListItem>\n                ))}\n              </List>\n            ) : (\n              <p className=\"display-message text-center mt-5\">Nothing to display</p>\n            )}\n            </Card>\n          </Col>\n        </Row>\n      </Container>\n    );\n  }\n\n\nexport default Search;\n"]},"metadata":{},"sourceType":"module"}